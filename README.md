# 🎮 阿尔修斯的传说 

一个完整的5章节中世纪奇幻风格网页RPG游戏：拯救艾莉娅公主，击败暗影魔王，拯救艾尔多拉王国！

## ✨ 游戏特色

- **完整5章节剧情**：从迷雾森林到魔王城堡的史诗冒险
- **丰富技能系统**：4种可叠加技能，策略性战斗
- **智能敌人AI**：不同敌人类型，独特攻击模式
- **角色成长系统**：升级、加点、购买装备
- **精美视觉效果**：背景图片、角色头像、技能特效
- **动态画布适配**：根据背景图自动调整游戏区域

## 🎯 操作指南

### 基础操作
- **移动**：W/A/S/D 或 方向键
- **攻击**：Space（智能瞄准最近敌人）
- **商店/加点**：ESC 或点击界面按钮
- **保存/读档**：顶部按钮（localStorage本地存储）

### 技能系统 (可叠加使用)
- **Q - 冲刺**：移速翻倍，穿越敌人（冷却2.5秒）
- **E - 连发**：快速连射魔法弹（冷却4.0秒）
- **Z - 击退**：击退周围敌人并造成眩晕（冷却1.0秒）
- **R - 环形弹幕**：360度发射魔法弹（7级解锁，冷却6.0秒）

## 📖 章节系统

### 第一章：迷雾森林外围 🌲
- **背景故事**：暗影魔王巴尔撒泽突破封印，掳走艾莉娅公主。阿尔修斯·星辉接受艾德华国王的重托，踏上拯救世界的英雄之路
- **敌人**：腐化史莱姆 (3只)
- **特色**：教学关卡，展示角色头像系统
- **背景**：迷雾笼罩的森林外围

### 第二章：哀嚎深渊 🌌
- **背景故事**：进入被暗影力量侵蚀的深渊，追寻公主的踪迹
- **敌人**：堕落兽人 (2只) - 曾经的王国战士
- **特色**：更强的敌人，考验玩家技能组合
- **背景**：阴森的哀嚎深渊

### 第三章：火焰山脊 🔥  
- **背景故事**：攀登灼热的火焰山脊，突破魔王的外围防线
- **敌人**：火焰蝙蝠 (2只) + 熔岩巨人 (1只)
- **特色**：空中单位 + 重甲单位的组合战斗
- **背景**：岩浆奔流的火焰山脊

### 第四章：冰霜要塞 ❄️
- **背景故事**：穿越极地寒冰，面对魔王的精锐部队
- **敌人**：冰霜射手 (2只) + 寒冰骑士 (1只)
- **特色**：远程攻击 + 冲锋攻击，最具挑战性的战斗
- **背景**：冰天雪地的要塞

### 第五章：魔王城堡 ⚔️
- **背景故事**：最终决战！面对暗影魔王，拯救艾莉娅公主
- **敌人**：暗影魔王 (Boss战)
- **特色**：多阶段Boss战，技能召唤，终极挑战
- **背景**：邪恶的魔王城堡

## 💪 角色系统

### 主角：阿尔修斯·星辉
- **初始属性**：75 HP / 12 ATK / 5 DEF / 150 SPD
- **武器**：星辉法杖（千年封印圣器）
- **血统**：古老精灵王族后裔
- **使命**：封印魔王，拯救公主，守护王国

### 成长系统
#### 自动升级奖励（每级）
- +15 HP（自动）
- +3 ATK（自动）
- +2 DEF（自动）
- +5 SPD（自动）
- +2个加点数（可自由分配）
- 升级满血回复

#### 手动加点效果
- **+HP**：+100 生命值
- **+ATK**：+10 攻击力  
- **+DEF**：+8 防御力
- **+SPD**：+15 移动速度

## ⚡ 战斗系统

### 魔法弹系统
- **智能瞄准**：自动锁定最近敌人
- **攻击间隔**：0.25秒
- **弹速**：450px/s
- **伤害**：1.5倍攻击力
- **寿命**：2.0秒

### 技能特效
- **冲刺**：移速翻倍 + 穿越效果
- **连发**：0.08秒间隔快速射击
- **击退**：80px范围，180px击退距离
- **环形弹幕**：360度全方位攻击

## 💰 经济系统

### 伤害计算
```
实际伤害 = max(1, 攻击力 - 防御力) × random(0.9, 1.1)
```

### 升级经验
```
下一级所需经验 = round(10 × 当前等级^1.5)
```

### 商店价格
- **武器升级**：+2 ATK (20金币)
- **护甲升级**：+1 DEF (20金币)
- **治疗**：恢复满血 (10金币)

## 🎨 视觉系统

### 支持的图片资源
- **角色头像**：king.png, princess.png, player.png
- **背景图片**：5个章节对应的场景背景
- **角色贴图**：主角、敌人、Boss的精灵图
- **自动Fallback**：图片缺失时使用彩色方块渲染

### 动态画布系统
- 根据背景图尺寸自动调整游戏区域
- 最大支持1920×1080分辨率
- 确保角色移动边界与背景完全匹配

## 🚀 如何运行

### 方法一：直接运行（推荐）
```bash
# 直接双击 index.html（推荐Chrome/Edge浏览器）
```

### 方法二：开发服务器（推荐调试）
```bash
# 使用VS Code + Live Server扩展
# 右键index.html -> "Open with Live Server"
```

### 方法三：本地服务器
```bash
# Python 3
python -m http.server 8000

# Node.js
npx serve .

# 然后访问 http://localhost:8000
```

## 📁 项目结构

```
canvas-rpg/
├── index.html          # 主页面
├── styles.css          # 样式文件
├── README.md          # 项目文档
├── src/
│   ├── game.js        # 游戏核心逻辑
│   ├── ui.js          # 用户界面逻辑
│   ├── assets.js      # 资源加载器
│   ├── storage.js     # 存储系统
│   └── main.js        # 程序入口
└── assets/
    ├── *.png          # 图片资源
    └── README.md      # 资源说明
```

## 🎮 游戏流程

1. **开始游戏** → 观看第一章剧情
2. **学习操作** → 移动、攻击、技能使用
3. **角色成长** → 击败敌人获得经验和金币
4. **升级强化** → 加点属性、购买装备
5. **技能解锁** → 7级解锁环形弹幕
6. **章节推进** → 完成击杀目标进入下一章
7. **最终决战** → 击败魔王，拯救公主

## 🔮 高级特性

### 技能叠加系统
- 多个技能可同时激活
- 不同组合产生不同战术效果
- 冲刺+连发 = 高机动输出
- 击退+环形弹幕 = 控场清怪

### 敌人AI系统
- **史莱姆**：简单追踪
- **兽人**：强力近战
- **火焰蝙蝠**：快速移动
- **熔岩巨人**：高血量坦克
- **冰霜射手**：远程攻击，保持距离
- **寒冰骑士**：冲锋攻击
- **暗影魔王**：多阶段Boss战

### 存档系统
- localStorage本地存储
- 保存角色属性、章节进度、技能状态
- 读档时清理敌人，避免意外死亡
- 跨浏览器会话持久化

## 🛠️ 技术特点

- **纯原生JS**：无框架依赖，性能优秀
- **Canvas 2D渲染**：流畅的游戏体验
- **模块化设计**：代码结构清晰，易于维护
- **响应式布局**：适配不同屏幕尺寸
- **优雅降级**：图片缺失时自动fallback

## 🎯 下一步可以扩展

- 🏆 成就系统
- 🎵 背景音乐和音效
- 💎 装备掉落和品质系统
- 🌟 更多技能和天赋树
- 👥 多角色选择
- 🏰 更多章节和场景
- 📊 详细数据统计

---

**制作者**：Canvas RPG Team  
**版本**：2.0 - 完整版  
**最后更新**：2025年8月

享受这场拯救艾莉娅公主的史诗冒险吧！ 🏰✨

